"use strict";(self["webpackChunkpractice"]=self["webpackChunkpractice"]||[]).push([[474],{2474:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var i=a(4562),s=a(9582),n=a(266),l=a(9256),o=a(1625),r=a(5125),u=a(3305),c=a(1713),h=a(1399),p=a(9780),d=a(2648),m=function(){var e=this,t=e._self._c;return t(l.Z,{staticClass:"my-10"},[t(c.Z,{staticClass:"mb-10"},[t(n.Z,{staticClass:"text-center",attrs:{cols:"12"}},[t("h2",[e._v("상품 기본정보")])]),t(n.Z,{attrs:{cols:"12"}},[t(s.Z,{attrs:{flat:""}},[t(r.Z,{on:{submit:function(t){return t.preventDefault(),e.onSubmitForm.apply(null,arguments)}}},[t(p.Z,{attrs:{dense:"",outlined:"",label:"상품명",rules:[e=>!!e||"상품명은 필수입니다!"]},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),t(h.Z,{attrs:{items:e.selectList,"item-text":"name","item-value":"value",rules:[e=>!!e||"카테고리 선택은 필수입니다!"],"return-object":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),t(p.Z,{attrs:{dense:"",outlined:"",label:"가격",rules:[e=>!!e||"가격을 기재해주세요!"]},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),t(p.Z,{attrs:{dense:"",outlined:"",label:"제조사명",rules:[e=>!!e||"제조사명을 기재해주세요!"]},model:{value:e.brand,callback:function(t){e.brand=t},expression:"brand"}}),t(d.Z,{attrs:{label:"상품설명",outlined:"",rows:"2"},model:{value:e.info,callback:function(t){e.info=t},expression:"info"}}),t(n.Z,{staticClass:"text-center",attrs:{cols:"12"}},[t("h2",[e._v("상품 상세옵션")])]),t(p.Z,{attrs:{dense:"",outlined:"",label:"상품의 첫번째 옵션을 적어주세요"},model:{value:e.option1,callback:function(t){e.option1=t},expression:"option1"}}),t(p.Z,{attrs:{dense:"",outlined:"",label:"상품의 두번째 옵션을 적어주세요"},model:{value:e.option2,callback:function(t){e.option2=t},expression:"option2"}}),t(p.Z,{attrs:{dense:"",outlined:"",label:"상품의 세번째 옵션을 적어주세요"},model:{value:e.option3,callback:function(t){e.option3=t},expression:"option3"}}),t(p.Z,{attrs:{dense:"",outlined:"",label:"상품의 네번째 옵션을 적어주세요"},model:{value:e.option4,callback:function(t){e.option4=t},expression:"option4"}}),t(p.Z,{attrs:{dense:"",outlined:"",label:"상품의 다섯번째 옵션을 적어주세요"},model:{value:e.option5,callback:function(t){e.option5=t},expression:"option5"}}),t(n.Z,{staticClass:"text-center",attrs:{cols:"12"}},[t("h2",[e._v("상품 색상옵션")])]),t(p.Z,{attrs:{dense:"",outlined:"",label:"상품의 색상을 적어주세요"},model:{value:e.color1,callback:function(t){e.color1=t},expression:"color1"}}),t(p.Z,{attrs:{dense:"",outlined:"",label:"상품의 색상을 적어주세요"},model:{value:e.color2,callback:function(t){e.color2=t},expression:"color2"}}),t(p.Z,{attrs:{dense:"",outlined:"",label:"상품의 색상을 적어주세요"},model:{value:e.color3,callback:function(t){e.color3=t},expression:"color3"}}),t(p.Z,{attrs:{dense:"",outlined:"",label:"상품의 색상을 적어주세요"},model:{value:e.color4,callback:function(t){e.color4=t},expression:"color4"}}),t(n.Z,{staticClass:"text-center",attrs:{cols:"12"}},[t("h2",[e._v("상품 상세사진")])]),t("div",{staticStyle:{display:"flex"}},[t(o.Z,{staticStyle:{width:"500px","padding-bottom":"20px"},attrs:{accept:"image/*",dense:"",label:"상품 대표 사진 첨부",placeholder:"사진 업로드","prepend-icon":"mdi-paperclip",outlined:"","show-size":1e3,couter:""},on:{change:e.previewImage},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}}),t(o.Z,{staticStyle:{width:"500px","padding-bottom":"20px"},attrs:{accept:"image/*",dense:"",label:"추가 사진 첨부",placeholder:"사진 업로드","prepend-icon":"mdi-paperclip",outlined:"","show-size":1e3,couter:""},on:{change:e.previewImage},model:{value:e.subImage,callback:function(t){e.subImage=t},expression:"subImage"}}),t(o.Z,{staticStyle:{width:"500px","padding-bottom":"20px"},attrs:{accept:"image/*",dense:"",label:"추가 사진 첨부",placeholder:"사진 업로드","prepend-icon":"mdi-paperclip",outlined:"","show-size":1e3,couter:""},on:{change:e.previewImage},model:{value:e.subImage2,callback:function(t){e.subImage2=t},expression:"subImage2"}}),t(o.Z,{staticStyle:{width:"500px","padding-bottom":"20px"},attrs:{accept:"image/*",dense:"",label:"추가 사진 첨부",placeholder:"사진 업로드","prepend-icon":"mdi-paperclip",outlined:"","show-size":1e3,couter:""},on:{change:e.previewImage},model:{value:e.subImage3,callback:function(t){e.subImage3=t},expression:"subImage3"}}),t(o.Z,{staticStyle:{width:"500px","padding-bottom":"20px"},attrs:{accept:"image/*",dense:"",label:"추가 사진 첨부",placeholder:"사진 업로드","prepend-icon":"mdi-paperclip",outlined:"","show-size":1e3,couter:""},on:{change:e.previewImage},model:{value:e.subImage4,callback:function(t){e.subImage4=t},expression:"subImage4"}})],1),e.bIsWait?t("div",{staticClass:"text-center"},[t(u.Z,{attrs:{size:"50",indeterminate:"",color:"grey"}})],1):t("div",{staticClass:"text-center"},[t(i.Z,{staticClass:"mx-1",on:{click:e.moveToList}},[e._v("목록으로 돌아가기")]),t(i.Z,{staticClass:"mx-1",attrs:{type:"submit",color:"#00B0FF",dark:""}},[e._v("상품 등록하기")])],1)],1)],1)],1)],1)],1)},g=[],f=(a(7658),a(1457)),b=a(6737),v=a.n(b),y={data(){return{writer:"",title:"",info:"",date:"",type:"",files:"",subImage:"",subImage2:"",subImage3:"",subImage4:"",price:0,brand:"",stars:"",option1:"",option2:"",option3:"",option4:"",option5:"",color1:"",color2:"",color3:"",color4:"",imageData:"",bIsWait:!1,selected:"",selectList:[{name:"카테고리를 선택해 주세요.",value:""},{name:"가구",value:"furniture"},{name:"패브릭",value:"fabric"},{name:"가전·디지털",value:"digital"},{name:"주방용품",value:"kitchen"},{name:"식품",value:"food"},{name:"데코·식물",value:"deco"},{name:"조명",value:"light"},{name:"수납·정리",value:"acceptance"},{name:"생활용품",value:"life"},{name:"생필품",value:"necessity"},{name:"유아·아동",value:"kids"},{name:"반려동물",value:"animal"},{name:"캠핑·레저",value:"camping"},{name:"공구·DIY",value:"diy"},{name:"인테리어시공",value:"interior"},{name:"렌탈",value:"rental"},{name:"장보기",value:"groceries"}],dateString:""}},methods:{onSubmitForm(){this.onUpload()},moveToList(){this.$router.push("/itemlist")},previewImage(){console.log(this.files),this.imageData=this.files,this.subImageData=this.subImage,this.subImageData2=this.subImage2,this.subImageData3=this.subImage3,this.subImageData4=this.subImage4},onUpload(){var e=new Date,t=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2),s=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2),l=t+"년 "+a+"월 "+i+"일 "+s+"시 "+n+"분";this.$store.commit("fnSetNum");let o=f.T8.ref("images").child(this.imageData.name).put(this.imageData),r=f.T8.ref("images").child(this.subImageData.name).put(this.subImageData),u=f.T8.ref("images").child(this.subImageData2.name).put(this.subImageData2),c=f.T8.ref("images").child(this.subImageData3.name).put(this.subImageData3),h=f.T8.ref("images").child(this.subImageData4.name).put(this.subImageData4);const p=this;o.on("state_changed",(function(e){let t=e.bytesTransferred/e.totalBytes*100;console.log("업로드: "+t+"% 완료",e.state),p.bIsWait=!p.bIsWait}),(function(e){console.log(e)}),(function(){o.snapshot.ref.getDownloadURL().then((function(e){console.log("대표사진URL:",e),r.snapshot.ref.getDownloadURL().then((function(t){u.snapshot.ref.getDownloadURL().then((function(a){c.snapshot.ref.getDownloadURL().then((function(i){h.snapshot.ref.getDownloadURL().then((function(s){console.log("서브사진URL:",t),f.Ms.push({url:e,suburl:t,suburl2:a,suburl3:i,suburl4:s,idnum:p.$store.getters.fnGetNum,title:p.title,info:p.info,value:p.selected,price:parseInt(p.price),brand:p.brand,stars:p.stars,option1:p.option1,option2:p.option2,option3:p.option3,option4:p.option4,option5:p.option5,color1:p.color1,color2:p.color2,color3:p.color3,color4:p.color4,date:l,filename:p.imageData.name,subimagename:p.subImageData.name,subimage2name:p.subImageData2.name,subimage3name:p.subImageData3.name,subimage4name:p.subImageData4.name,userEmail:p.$store.getters.fnGetUser.email}).then(v()("상품이 등록되었습니다.","","success")).then(p.$router.push("/itemlist"))}))}))}))}))}))}))}}},I=y,x=a(1001),w=(0,x.Z)(I,m,g,!1,null,"18ad6127",null),Z=w.exports},1625:function(e,t,a){a.d(t,{Z:function(){return u}});a(7658);var i=a(9780),s=i.Z,n=a(4127),l=a(5352),o=a(4101),r=a(1767),u=s.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:e=>(0,l.TI)(e).every((e=>null!=e&&"object"===typeof e))}},computed:{classes(){return{...s.options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const e=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);const t=this.internalArrayValue.reduce(((e,{size:t=0})=>e+t),0);return this.$vuetify.lang.t(this.counterSizeString,e,(0,l.XE)(t,1024===this.base))},internalArrayValue(){return(0,l.TI)(this.internalValue)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((e=>{const{name:t="",size:a=0}=e,i=this.truncateText(t);return this.showSize?`${i} (${(0,l.XE)(a,1024===this.base)})`:i})):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(e){!0===e&&(0,o.N6)("readonly is not supported on <v-file-input>",this)},immediate:!0},value(e){const t=this.multiple?e:e?[e]:[];(0,l.vZ)(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map(((e,t)=>this.$createElement(n.Z,{props:{small:this.smallChips},on:{"click:close":()=>{const e=this.internalValue;e.splice(t,1),this.internalValue=e}}},[e]))):[]},genControl(){const e=s.options.methods.genControl.call(this);return this.hideInput&&(e.data.style=(0,r.y0)(e.data.style,{display:"none"})),e},genInput(){const e=s.options.methods.genInput.call(this);return e.data.attrs.multiple=this.multiple,delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot(){if(!this.prependIcon)return null;const e=this.genIcon("prepend",(()=>{this.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText(){const e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections(){const e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach(((t,a)=>{this.$scopedSlots.selection&&e.push(this.$scopedSlots.selection({text:this.text[a],file:t,index:a}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot(){const e=s.options.methods.genTextFieldSlot.call(this);return e.data.on={...e.data.on||{},click:e=>{e.target&&"LABEL"===e.target.nodeName||this.$refs.input.click()}},e},onInput(e){const t=[...e.target.files||[]];this.internalValue=this.multiple?t:t[0],this.initialValue=this.internalValue},onKeyDown(e){this.$emit("keydown",e)},truncateText(e){if(e.length<Number(this.truncateLength))return e;const t=Math.floor((Number(this.truncateLength)-1)/2);return`${e.slice(0,t)}…${e.slice(e.length-t)}`}}})},5125:function(e,t,a){a(7658);var i=a(7678),s=a(2500),n=a(4712);t["Z"]=(0,i.Z)(s.Z,(0,n.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(e){const t=e=>e.$watch("hasError",(t=>{this.$set(this.errorBag,e._uid,t)}),{immediate:!0}),a={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?a.shouldValidate=e.$watch("shouldValidate",(i=>{i&&(this.errorBag.hasOwnProperty(e._uid)||(a.valid=t(e)))})):a.valid=t(e),a},validate(){return 0===this.inputs.filter((e=>!e.validate(!0))).length},reset(){this.inputs.forEach((e=>e.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((e=>e.resetValidation())),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const t=this.inputs.find((t=>t._uid===e._uid));if(!t)return;const a=this.watchers.find((e=>e._uid===t._uid));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((e=>e._uid!==t._uid)),this.inputs=this.inputs.filter((e=>e._uid!==t._uid)),this.$delete(this.errorBag,t._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:e=>this.$emit("submit",e)}},this.$slots.default)}})},2648:function(e,t,a){a.d(t,{Z:function(){return l}});var i=a(9780),s=a(7678);const n=(0,s.Z)(i.Z);var l=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:e=>!isNaN(parseFloat(e))},rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseInt(e,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...i.Z.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(e){this.$nextTick((()=>{var t;e?this.calculateInputHeight():null===(t=this.$refs.input)||void 0===t||t.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const e=this.$refs.input;if(!e)return;e.style.height="0";const t=e.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(a,t)+"px"},genInput(){const e=i.Z.options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput(e){i.Z.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})}}]);
//# sourceMappingURL=474.4ba8b80a.js.map